{"ast":null,"code":"import React,{useEffect,useState}from'react';import Navbar from'../components/Navbar';import Button from'../components/Button';import TicketCard from'../components/TicketCard';import Loader from'../components/Loader';import CreateTicketModal from'../components/CreateTicketModal';// New import\nimport{useTickets}from'../hooks/useTickets';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserTickets=()=>{const{tickets,loading,fetchUserTickets}=useTickets();const[isModalOpen,setIsModalOpen]=useState(false);useEffect(()=>{fetchUserTickets();},[]);const handleCreateSuccess=()=>{fetchUserTickets();// Refresh list\n};if(loading)return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto p-8\",children:/*#__PURE__*/_jsx(Loader,{})})]});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-8 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent\",children:\"My Tickets\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"text-lg px-8 py-3\",onClick:()=>setIsModalOpen(true),children:\"+ New Ticket\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:tickets.map(ticket=>/*#__PURE__*/_jsx(Link,{to:\"/ticket/\".concat(ticket.id),children:/*#__PURE__*/_jsx(TicketCard,{onClick:()=>{},ticket:ticket})},ticket.id))}),tickets.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 bg-gray-100 rounded-3xl mx-auto mb-6 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1,d:\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-gray-700 mb-2\",children:\"No tickets yet\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>setIsModalOpen(true),children:\"Create your first ticket\"})]})]})]}),/*#__PURE__*/_jsx(CreateTicketModal,{isOpen:isModalOpen,onClose:()=>setIsModalOpen(false),onSuccess:handleCreateSuccess})]});};export default UserTickets;","map":{"version":3,"names":["React","useEffect","useState","Navbar","Button","TicketCard","Loader","CreateTicketModal","useTickets","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserTickets","tickets","loading","fetchUserTickets","isModalOpen","setIsModalOpen","handleCreateSuccess","className","children","variant","onClick","map","ticket","to","concat","id","length","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","isOpen","onClose","onSuccess"],"sources":["D:/BROTOTYPE/DASHBOARD/frontend/src/pages/UserTickets.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Navbar from '../components/Navbar';\r\nimport Button from '../components/Button';\r\nimport TicketCard from '../components/TicketCard';\r\nimport Loader from '../components/Loader';\r\nimport CreateTicketModal from '../components/CreateTicketModal'; // New import\r\nimport { useTickets } from '../hooks/useTickets';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst UserTickets: React.FC = () => {\r\n  const { tickets, loading, fetchUserTickets } = useTickets();\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchUserTickets();\r\n  }, []);\r\n\r\n  const handleCreateSuccess = () => {\r\n    fetchUserTickets(); // Refresh list\r\n  };\r\n\r\n  if (loading) return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\">\r\n      <Navbar />\r\n      <div className=\"max-w-6xl mx-auto p-8\">\r\n        <Loader />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100\">\r\n        <Navbar />\r\n        <div className=\"max-w-6xl mx-auto p-8 space-y-8\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent\">\r\n              My Tickets\r\n            </h1>\r\n            <Button \r\n              variant=\"primary\" \r\n              className=\"text-lg px-8 py-3\"\r\n              onClick={() => setIsModalOpen(true)}\r\n            >\r\n              + New Ticket\r\n            </Button>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {tickets.map((ticket) => (\r\n              <Link key={ticket.id} to={`/ticket/${ticket.id}`}>\r\n                <TicketCard onClick={()=>{}} ticket={ticket} />\r\n              </Link>\r\n            ))}\r\n          </div>\r\n\r\n          {tickets.length === 0 && (\r\n            <div className=\"text-center py-20\">\r\n              <div className=\"w-24 h-24 bg-gray-100 rounded-3xl mx-auto mb-6 flex items-center justify-center\">\r\n                <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-2xl font-bold text-gray-700 mb-2\">No tickets yet</h3>\r\n              <Button \r\n                variant=\"primary\" \r\n                onClick={() => setIsModalOpen(true)}\r\n              >\r\n                Create your first ticket\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      <CreateTicketModal\r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        onSuccess={handleCreateSuccess}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserTickets;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}