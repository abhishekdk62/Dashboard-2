{"ast":null,"code":"import{useState}from'react';import{ticketsAPI,analyticsAPI}from'../api';export const useTickets=()=>{const[tickets,setTickets]=useState([]);const[loading,setLoading]=useState(false);const[stats,setStats]=useState(null);const fetchUserTickets=async()=>{setLoading(true);try{const{data}=await ticketsAPI.getUserTickets();setTickets(data);console.log({ticketsare:data});}catch(error){console.error('Failed to fetch tickets');}finally{setLoading(false);}};const fetchAllTickets=async()=>{setLoading(true);try{const{data}=await ticketsAPI.getAllTickets();setTickets(data);}catch(error){console.error('Failed to fetch tickets');}finally{setLoading(false);}};const fetchStats=async()=>{try{const{data}=await analyticsAPI.getStats();setStats(data);}catch(error){console.error('Failed to fetch stats');}};return{tickets,loading,stats,fetchUserTickets,fetchAllTickets,fetchStats};};","map":{"version":3,"names":["useState","ticketsAPI","analyticsAPI","useTickets","tickets","setTickets","loading","setLoading","stats","setStats","fetchUserTickets","data","getUserTickets","console","log","ticketsare","error","fetchAllTickets","getAllTickets","fetchStats","getStats"],"sources":["D:/BROTOTYPE/DASHBOARD/frontend/src/hooks/useTickets.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { ticketsAPI, analyticsAPI } from '../api';\r\nimport { Ticket } from '../types';\r\n\r\nexport const useTickets = () => {\r\n  const [tickets, setTickets] = useState<Ticket[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [stats, setStats] = useState<any>(null);\r\n\r\n  const fetchUserTickets = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await ticketsAPI.getUserTickets();\r\n      setTickets(data);\r\n      console.log({ticketsare:data});\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to fetch tickets');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAllTickets = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await ticketsAPI.getAllTickets();\r\n      setTickets(data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch tickets');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const { data } = await analyticsAPI.getStats();\r\n      setStats(data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch stats');\r\n    }\r\n  };\r\n\r\n  return {\r\n    tickets,\r\n    loading,\r\n    stats,\r\n    fetchUserTickets,\r\n    fetchAllTickets,\r\n    fetchStats,\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAmB,OAAO,CAC3C,OAASC,UAAU,CAAEC,YAAY,KAAQ,QAAQ,CAGjD,MAAO,MAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGL,QAAQ,CAAW,EAAE,CAAC,CACpD,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAM,IAAI,CAAC,CAE7C,KAAM,CAAAU,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnCH,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAEI,IAAK,CAAC,CAAG,KAAM,CAAAV,UAAU,CAACW,cAAc,CAAC,CAAC,CAClDP,UAAU,CAACM,IAAI,CAAC,CAChBE,OAAO,CAACC,GAAG,CAAC,CAACC,UAAU,CAACJ,IAAI,CAAC,CAAC,CAEhC,CAAE,MAAOK,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,yBAAyB,CAAC,CAC1C,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAU,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClCV,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAEI,IAAK,CAAC,CAAG,KAAM,CAAAV,UAAU,CAACiB,aAAa,CAAC,CAAC,CACjDb,UAAU,CAACM,IAAI,CAAC,CAClB,CAAE,MAAOK,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,yBAAyB,CAAC,CAC1C,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAER,IAAK,CAAC,CAAG,KAAM,CAAAT,YAAY,CAACkB,QAAQ,CAAC,CAAC,CAC9CX,QAAQ,CAACE,IAAI,CAAC,CAChB,CAAE,MAAOK,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,uBAAuB,CAAC,CACxC,CACF,CAAC,CAED,MAAO,CACLZ,OAAO,CACPE,OAAO,CACPE,KAAK,CACLE,gBAAgB,CAChBO,eAAe,CACfE,UACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}