{"ast":null,"code":"var _jsxFileName = \"D:\\\\BROTOTYPE\\\\DASHBOARD\\\\frontend\\\\src\\\\components\\\\CreateTicketModal.tsx\",\n  _s = $RefreshSig$();\n// pages/CreateTicket.tsx → components/CreateTicketModal.tsx\nimport React from 'react';\nimport { useFormik } from 'formik';\nimport Button from '../components/Button';\nimport Input from '../components/Input';\nimport { useNavigate } from 'react-router-dom';\nimport { ticketSchema } from '../utils/validation';\nimport { ticketsAPI } from '../api';\nimport { PRIORITIES, CATEGORIES } from '../types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateTicketModal = ({\n  isOpen,\n  onClose,\n  onSuccess\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const formik = useFormik({\n    initialValues: {\n      title: '',\n      description: '',\n      category: '',\n      priority: 'medium',\n      status: 'open' // ← ADD THIS LINE ONLY\n    },\n    validationSchema: ticketSchema,\n    onSubmit: async values => {\n      try {\n        await ticketsAPI.createTicket(values);\n        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n        onClose();\n      } catch (error) {\n        console.error('Failed to create ticket');\n      }\n    }\n  });\n  const getFieldError = field => {\n    return formik.touched[field] && formik.errors[field] ? String(formik.errors[field]) : undefined;\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/95 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50 max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent\",\n          children: \"Create New Ticket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          className: \"text-gray-500 hover:text-gray-900 p-2 -m-2\",\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formik.handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          label: \"Title\",\n          name: \"title\",\n          value: formik.values.title,\n          onChange: formik.handleChange,\n          error: getFieldError('title'),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            rows: 6,\n            value: formik.values.description,\n            onChange: formik.handleChange,\n            className: \"w-full px-4 py-3 rounded-xl border-2 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-400 border-gray-200 hover:border-gray-300 bg-white resize-vertical\",\n            placeholder: \"Describe your issue in detail...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), getFieldError('description') && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm mt-1\",\n            children: getFieldError('description')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Category\",\n            name: \"category\",\n            as: \"select\",\n            value: formik.values.category,\n            onChange: formik.handleChange,\n            options: CATEGORIES.map(cat => ({\n              value: cat.value,\n              label: cat.label\n            })),\n            error: getFieldError('category'),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Priority\",\n            name: \"priority\",\n            as: \"select\",\n            value: formik.values.priority,\n            onChange: formik.handleChange,\n            options: PRIORITIES.map(prio => ({\n              value: prio.value,\n              label: prio.value\n            })),\n            error: getFieldError('priority'),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 pt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"primary\",\n            className: \"flex-1 text-lg py-4\",\n            children: formik.isSubmitting ? 'Creating...' : 'Create Ticket'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            variant: \"secondary\",\n            className: \"flex-1 text-lg py-4\",\n            onClick: onClose,\n            disabled: formik.isSubmitting,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateTicketModal, \"bpSrOvH8nJQ9VaMidkvMycx/GW8=\", false, function () {\n  return [useNavigate, useFormik];\n});\n_c = CreateTicketModal;\nexport default CreateTicketModal;\nvar _c;\n$RefreshReg$(_c, \"CreateTicketModal\");","map":{"version":3,"names":["React","useFormik","Button","Input","useNavigate","ticketSchema","ticketsAPI","PRIORITIES","CATEGORIES","jsxDEV","_jsxDEV","CreateTicketModal","isOpen","onClose","onSuccess","_s","navigate","formik","initialValues","title","description","category","priority","status","validationSchema","onSubmit","values","createTicket","error","console","getFieldError","field","touched","errors","String","undefined","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","onClick","handleSubmit","label","name","value","onChange","handleChange","required","rows","placeholder","as","options","map","cat","prio","type","isSubmitting","disabled","_c","$RefreshReg$"],"sources":["D:/BROTOTYPE/DASHBOARD/frontend/src/components/CreateTicketModal.tsx"],"sourcesContent":["// pages/CreateTicket.tsx → components/CreateTicketModal.tsx\r\nimport React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport Button from '../components/Button';\r\nimport Input from '../components/Input';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ticketSchema } from '../utils/validation';\r\nimport { CreateTicketData, ticketsAPI } from '../api';\r\nimport { PRIORITIES, CATEGORIES } from '../types';\r\n\r\ninterface CreateTicketModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onSuccess?: () => void; // Refresh tickets list\r\n}\r\n\r\nconst CreateTicketModal: React.FC<CreateTicketModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onSuccess,\r\n}) => {\r\n  const navigate = useNavigate();\r\n\r\n  const formik = useFormik<CreateTicketData>({\r\n    initialValues: {\r\n      title: '',\r\n      description: '',\r\n      category: '',\r\n      priority: 'medium',\r\n      status: 'open',  // ← ADD THIS LINE ONLY\r\n\r\n    },\r\n    validationSchema: ticketSchema,\r\n    onSubmit: async (values) => {\r\n      try {\r\n        await ticketsAPI.createTicket(values);\r\n        onSuccess?.(); \r\n        onClose();\r\n      } catch (error) {\r\n        console.error('Failed to create ticket');\r\n      }\r\n    },\r\n  });\r\n\r\n  const getFieldError = (field: string) => {\r\n    return formik.touched[field as keyof typeof formik.errors] \r\n      && formik.errors[field as keyof typeof formik.errors] \r\n      ? String(formik.errors[field as keyof typeof formik.errors]) \r\n      : undefined;\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white/95 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/50 max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <h2 className=\"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent\">\r\n            Create New Ticket\r\n          </h2>\r\n          <Button \r\n            variant=\"ghost\" \r\n            className=\"text-gray-500 hover:text-gray-900 p-2 -m-2\"\r\n            onClick={onClose}\r\n          >\r\n            ✕\r\n          </Button>\r\n        </div>\r\n\r\n        <form onSubmit={formik.handleSubmit} className=\"space-y-6\">\r\n          <Input\r\n            label=\"Title\"\r\n            name=\"title\"\r\n            value={formik.values.title}\r\n            onChange={formik.handleChange}\r\n            error={getFieldError('title')}\r\n            required\r\n          />\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Description\r\n            </label>\r\n            <textarea\r\n              name=\"description\"\r\n              rows={6}\r\n              value={formik.values.description}\r\n              onChange={formik.handleChange}\r\n              className=\"w-full px-4 py-3 rounded-xl border-2 focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-400 border-gray-200 hover:border-gray-300 bg-white resize-vertical\"\r\n              placeholder=\"Describe your issue in detail...\"\r\n            />\r\n            {getFieldError('description') && (\r\n              <p className=\"text-red-500 text-sm mt-1\">{getFieldError('description')}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <Input\r\n              label=\"Category\"\r\n              name=\"category\"\r\n              as=\"select\"\r\n              value={formik.values.category}\r\n              onChange={formik.handleChange}\r\n              options={CATEGORIES.map(cat => ({ value: cat.value, label: cat.label }))}\r\n              error={getFieldError('category')}\r\n              required\r\n            />\r\n\r\n            <Input\r\n              label=\"Priority\"\r\n              name=\"priority\"\r\n              as=\"select\"\r\n              value={formik.values.priority}\r\n              onChange={formik.handleChange}\r\n              options={PRIORITIES.map(prio => ({ value: prio.value, label: prio.value }))}\r\n              error={getFieldError('priority')}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-4 pt-6\">\r\n            <Button type=\"submit\" variant=\"primary\" className=\"flex-1 text-lg py-4\">\r\n              {formik.isSubmitting ? 'Creating...' : 'Create Ticket'}\r\n            </Button>\r\n            <Button \r\n              type=\"button\" \r\n              variant=\"secondary\" \r\n              className=\"flex-1 text-lg py-4\"\r\n              onClick={onClose}\r\n              disabled={formik.isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateTicketModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}